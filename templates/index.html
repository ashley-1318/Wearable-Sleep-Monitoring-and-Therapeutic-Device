<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sleep Rhythm AI - Live Monitoring</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-moon"></i> Sleep Rhythm AI</h1>
            <p>Live simulation of an AI-powered wearable for sleep apnea detection.</p>
        </header>

        <main>
            <div class="dashboard">
                <div class="card live-status-card">
                    <h3><i class="fas fa-heart-pulse"></i> Live Status</h3>
                    <div id="status-indicator" class="status-normal">
                        <span id="status-text">NORMAL</span>
                    </div>
                </div>
                <div class="card data-card">
                    <h3><i class="fas fa-heartbeat"></i> Heart Rate (BPM)</h3>
                    <div class="svg-container">
                        <svg id="heart-svg" viewBox="0 0 24 24" class="animated-svg">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                        </svg>
                    </div>
                    <p id="heart-rate-value">--</p>
                </div>
                <div class="card data-card">
                    <h3><i class="fas fa-walking"></i> Motion Level</h3>
                    <div class="svg-container">
                         <svg id="motion-svg" viewBox="0 0 24 24" class="animated-svg">
                            <circle cx="12" cy="4" r="2"/>
                            <path d="M15.89 8.11L14 10l-2-1-3 4h12v2H7l-4-6-2.11 2.11"/>
                        </svg>
                    </div>
                    <p id="motion-value">--</p>
                </div>
            </div>

            <div class="main-content">
                <div class="chart-container card">
                    <h3><i class="fas fa-chart-line"></i> Real-Time Biometric Data</h3>
                    <canvas id="sleepChart"></canvas>
                </div>
                <div class="log-container card">
                     <h3><i class="fas fa-history"></i> Event Log</h3>
                     <div id="event-log" class="event-log">
                         <p class="log-entry-placeholder">No events detected yet...</p>
                     </div>
                </div>
            </div>

             <div id="alert-panel" class="alert-hidden">
                <i class="fas fa-exclamation-triangle"></i>
                <strong>Therapeutic Alert!</strong> Possible sleep apnea event detected. Device would trigger a gentle vibration.
            </div>
        </main>
        <footer>
            <p>Academic Project Simulation by ASHLEY JOSCO C</p>
        </footer>
    </div>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
